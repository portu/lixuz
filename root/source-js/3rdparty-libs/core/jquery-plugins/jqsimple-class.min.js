/*!! jQsimple-class - Copyright Eskild Hustvedt 2010
 * License: GNU LGPLv3 */
(function(h){var p=0,e=h.extend,l=h.merge,m=h.isArray,i=h.each,j=function(a){m(a)||(a=[n(e({},a))]);var b=function(){var c=this,f={O:c,_d:[]},g=l([],j.modifiers),d=0;if(!(c instanceof b))throw"Class must be instantiated";for(i(a,function(w,o){var q=o._constructor,r=o._destructor;e(true,c,o);q&&g.push(q);r&&f._d.push(r)});d<g.length;d++)g[d].apply(c,arguments);c.jClass=e({_m:f},k);c.destroy=t};e(b,{o:a,jClass:e({_m:{O:b}},j.cMethods,k)});return b},n=function(a){if(!a.jClass)a.jClass={};if(!a.jClass.i){p++;a.jClass.i=p}return a},u=function(a){var b=[],c=[];i((m(a)?a:[a]).reverse(),function(f,g){var d=g.jClass.i;if(h.inArray(d,c)===-1){b.push(g);c.push(d)}});return b},s=function(a,b,c){var f=[];i(m(a)?a:[a],function(g,d){l(f,l([],d.o).reverse())});i(f,function(g,d){f[g]=d=e({},d);c&&c.call(null,d)});b=n(e({},b));f.unshift(b);f=u(f);return j(f)},k={version:"0.2"},t=function(){var a=this;i(a.jClass._m._d,function(b,c){c.apply(a)});i(a,function(b){delete a[b]})},v=function(a){a._destructor=a._constructor=null};e(j,{extend:s,extendS:function(a,b){return s(a,b,v)},virtual:function(a){var b=function(){throw"Attempted to instantiate virtual class";};a=e({},a);n(a);e(b,{o:[a],jClass:e({_m:{v:true}},j.cMethods,k)});return b},cMethods:{},$:h,modifiers:[]},k);window.jClass=j})(jQuery);